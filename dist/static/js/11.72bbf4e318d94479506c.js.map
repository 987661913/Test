{"version":3,"sources":["webpack:///./src/api/system/dataDictionary/index.js","webpack:///src/views/system/dataDictionary/index.vue","webpack:///./src/views/system/dataDictionary/index.vue?66b5","webpack:///./src/views/system/dataDictionary/index.vue"],"names":["deleteDetails","id","request","url","method","dataDictionary","name","components","props","type","String","default","typeCode","data","filterText","list","total","formEdit","formAdd","formStatus","dialogUserVisible","dialogUserName","dialogAuthorityVisible","dialogAuthorityName","listQuery","groupType","this","undefined","treeData","defaultProps","children","label","dialogRoleTitle","dialogRoleVisible","labelPosition","groupManager_btn_edit","groupManager_btn_del","groupManager_btn_add","groupManager_btn_userManager","groupManager_btn_resourceManager","listDataId","form","code","orderNum","parentCode","description","currentId","computed","extends_default","Object","vuex_esm","watch","val","$refs","groupTree","filter","created","getList","methods","checkDebug","value","event","query","_this","params","then","filterNode","indexOf","getNodeData","_this2","response","nodeEdit","nodeAdd","resetForm","nodeDelete","_this3","$confirm","confirmButtonText","cancelButtonText","node_type","onCancel","$notify","title","message","duration","update","_this4","create","_this5","parentId","userAdd","handlerAuthority","closeUserDialog","closeAuthorityDialog","system_dataDictionary","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","placeholder","size","model","callback","$$v","expression","_v","staticStyle","margin-top","span","padding-left","open-delay","content","effect","placement","on","click","$event","stopPropagation","_e","ref","filter-node-method","default-expand-all","highlight-current","scopedSlots","_u","key","fn","node","_s","updTime","crtTime","trigger","slot","nativeOn","visible","update:visible","label-position","label-width","disabled","$set","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/11.72bbf4e318d94479506c.js","sourcesContent":["import request from '@/utils/request'\r\n// 获取字典树\r\nexport function getdicTreee(query) {\r\n  return request({\r\n    url: '/api/admin/dic/tree',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n// 新增节点\r\n// this.form.code, this.form.description, this.form.name, this.form.orderNum, this.form.parentCode, this.form.type\r\nexport function adddicDetails(\r\n  code,\r\n  description,\r\n  name,\r\n  orderNum,\r\n  parentCode,\r\n  type\r\n) {\r\n  return request({\r\n    url: '/api/admin/dic/',\r\n    method: 'post',\r\n    data: {\r\n      code: code, // 编码(不能重复)\r\n      description: description, // 描述\r\n      // id: id,// 实体编号（唯一标识）\r\n      name: name, // 名称\r\n      orderNum: orderNum, // 排序\r\n      type: type, // 字典类型\r\n      parentCode: parentCode // 父级编码（根节点为（-1））\r\n    }\r\n  })\r\n}\r\n// 获取节点\r\nexport function getdicDetails(id) {\r\n  return request({\r\n    url: '/api/admin/dic/' + id,\r\n    method: 'get'\r\n  })\r\n}\r\n// 更新节点\r\nexport function updateDetails(id, code, description, name, orderNum, type) {\r\n  return request({\r\n    url: '/api/admin/dic/' + id,\r\n    method: 'put',\r\n    data: {\r\n      id: id,\r\n      code: code, // 编码(不能重复)\r\n      description: description, // 描述\r\n      // id: id,// 实体编号（唯一标识）\r\n      name: name, // 名称\r\n      orderNum: orderNum, // 排序\r\n      type: type // 字典类型\r\n    }\r\n  })\r\n}\r\n// 删除节点\r\nexport function deleteDetails(id) {\r\n  return request({\r\n    url: '/api/admin/dic/' + id,\r\n    method: 'delete'\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/system/dataDictionary/index.js","<template>\r\n  <div class=\"tab-item-contianer\">\r\n    <el-input class=\"fileterInput\" placeholder=\"输入关键字进行过滤\" size=\"medium\" v-model=\"filterText\"></el-input>\r\n    <el-row>\r\n      <el-col :span=\"24\" style=\"margin-top:15px;\">\r\n        <el-card class=\"card\">\r\n          <span class=\"tree-title common-font-color-success\">\r\n            <span style=\"padding-left: 30px\">名称</span>\r\n            <span class=\"tree-operation\">\r\n              <span class=\"data-authority\">\r\n                <span>数据权限</span>\r\n              </span>\r\n              <span class=\"menu-authority\">\r\n                <span>更新时间</span>\r\n              </span>\r\n              <span class=\"data-operate\">\r\n                <span>操作</span>\r\n                <el-tooltip :open-delay=\"1200\" class=\"item\" content=\"在跟节点下新增\" effect=\"dark\" placement=\"top-start\">\r\n                  <el-button @click.stop=\"nodeAdd\" type=\"text\" v-if=\"groupManager_btn_add\">\r\n                    <span class=\"el-icon-plus common-font-color-success\"/>\r\n                  </el-button>\r\n                </el-tooltip>\r\n              </span>\r\n            </span>\r\n          </span>\r\n          <el-tree :data=\"treeData\" :filter-node-method=\"filterNode\" :props=\"defaultProps\" default-expand-all highlight-current ref=\"groupTree\">\r\n            <span class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\r\n              <span>{{ node.label}}</span>\r\n              <span class=\"tree-operation\">\r\n                <span class=\"data-authority\">\r\n                  <span>数据权限</span>\r\n                </span>\r\n                <span class=\"menu-authority\">\r\n                  <span>\r\n                    {{ data.updTime || data.crtTime}}\r\n                    <!-- <el-button @click.stop=\"handlerAuthority(data)\" type=\"text\">\r\n                      <svg-icon icon-class=\"key\"/>\r\n                    </el-button>-->\r\n                  </span>\r\n                </span>\r\n                <span class=\"data-operate\">\r\n                  <el-tooltip :open-delay=\"1200\" class=\"item\" content=\"添加节点\" effect=\"dark\" placement=\"top-start\">\r\n                    <el-button @click.stop=\"checkDebug\" type=\"text\">\r\n                      <el-dropdown trigger=\"click\" type=\"text\">\r\n                        <span class=\"el-icon-plus common-font-color-success\"/>\r\n                        <el-dropdown-menu slot=\"dropdown\">\r\n                          <el-dropdown-item @click.native=\"nodeAdd(data)\">新增节点</el-dropdown-item>\r\n                          <!-- <el-dropdown-item @click.native=\"userAdd(data)\">新增人员</el-dropdown-item> -->\r\n                        </el-dropdown-menu>\r\n                      </el-dropdown>\r\n                    </el-button>\r\n                  </el-tooltip>\r\n                  <el-tooltip :open-delay=\"1200\" class=\"item\" content=\"编辑当前节点\" effect=\"dark\" placement=\"top-start\">\r\n                    <el-button @click.stop=\"nodeEdit(data)\" type=\"text\">\r\n                      <span class=\"el-icon-edit common-font-color-waring\"/>\r\n                    </el-button>\r\n                  </el-tooltip>\r\n                  <el-tooltip :open-delay=\"1200\" class=\"item\" content=\"删除当前\" effect=\"dark\" placement=\"top-start\">\r\n                    <el-button @click.stop=\"nodeDelete(data)\" type=\"text\">\r\n                      <span class=\"el-icon-delete common-font-color-danger\"/>\r\n                    </el-button>\r\n                  </el-tooltip>\r\n                </span>\r\n              </span>\r\n            </span>\r\n          </el-tree>\r\n        </el-card>\r\n      </el-col>\r\n      <el-dialog :title=\"dialogRoleTitle\" :visible.sync=\"dialogRoleVisible\">\r\n        <el-form :label-position=\"labelPosition\" :model=\"form\" label-width=\"80px\" ref=\"form\">\r\n          <el-form-item label=\"名称\">\r\n            <el-input :disabled=\"formEdit\" v-model=\"form.name\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"编码\">\r\n            <el-input :disabled=\"formEdit\" v-model=\"form.code\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"描述\">\r\n            <el-input :disabled=\"formEdit\" v-model=\"form.description\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item v-if=\"formStatus == 'update'\">\r\n            <el-button @click=\"update\" type=\"primary\" v-if=\"groupManager_btn_edit\">更新</el-button>\r\n            <el-button @click=\"onCancel\">取消</el-button>\r\n          </el-form-item>\r\n          <el-form-item v-if=\"formStatus == 'create'\">\r\n            <el-button @click=\"create\" type=\"primary\" v-if=\"groupManager_btn_add\">保存</el-button>\r\n            <el-button @click=\"onCancel\">取消</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-dialog>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getdicTreee, getdicDetails, updateDetails, deleteDetails, adddicDetails } from '@/api/system/dataDictionary/index'\r\nimport { mapGetters } from 'vuex'\r\nexport default {\r\n  name: 'GroupDetail',\r\n  components: {\r\n    // 'group-user': () => import('./groupUser'),\r\n    // 'group-authority': () => import('./groupAuthority')\r\n  },\r\n  props: {\r\n    type: {\r\n      type: String,\r\n      default: '1'\r\n    },\r\n    typeCode: {\r\n      type: String,\r\n      default: null\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      filterText: '',\r\n      list: null,\r\n      total: null,\r\n      formEdit: true,\r\n      formAdd: true,\r\n      formStatus: '',\r\n      dialogUserVisible: false,\r\n      dialogUserName: '新增成员',\r\n      dialogAuthorityVisible: false,\r\n      dialogAuthorityName: '关联菜单资源',\r\n      listQuery: {\r\n        groupType: this.type,\r\n        name: undefined\r\n      },\r\n      treeData: [],\r\n      defaultProps: {\r\n        children: 'childs',\r\n        label: 'name'\r\n      },\r\n      dialogRoleTitle: '新增节点',\r\n      dialogRoleVisible: false,\r\n      labelPosition: 'right',\r\n      groupManager_btn_edit: true,\r\n      groupManager_btn_del: true,\r\n      groupManager_btn_add: true,\r\n      groupManager_btn_userManager: true,\r\n      groupManager_btn_resourceManager: true,\r\n      listDataId: '',\r\n      form: {\r\n        code: '',\r\n        id: '',\r\n        name: '',\r\n        orderNum: 0,\r\n        parentCode: '',\r\n        type: '',\r\n        description: undefined\r\n      },\r\n      currentId: '1'\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['elements'])\r\n  },\r\n  watch: {\r\n    filterText(val) {\r\n      this.$refs.groupTree.filter(val)\r\n    }\r\n  },\r\n  created() {\r\n    this.getList()\r\n    // this.groupManager_btn_edit = this.elements['groupManager:btn_edit']\r\n    // this.groupManager_btn_del = this.elements['groupManager:btn_del']\r\n    // this.groupManager_btn_add = this.elements['groupManager:btn_add']\r\n    // this.groupManager_btn_userManager = this.elements['groupManager:btn_userManager']\r\n    // this.groupManager_btn_resourceManager = this.elements['groupManager:btn_resourceManager']\r\n  },\r\n  methods: {\r\n    checkDebug(value, event) {\r\n      // 空事件用于阻止checkbox click事件冒泡\r\n    },\r\n    getList() {\r\n      getdicTreee(this.listQuery).then(data => {\r\n        this.treeData = data.data\r\n      })\r\n    },\r\n    filterNode(value, data) {\r\n      if (!value) return true\r\n      return data.label.indexOf(value) !== -1\r\n    },\r\n    getNodeData(data) {\r\n      getdicDetails(data.id).then(response => {\r\n        this.form = response.data\r\n      })\r\n    },\r\n    nodeEdit(data) {\r\n      this.listDataId = data.id\r\n      this.dialogRoleVisible = true\r\n      this.dialogRoleTitle = '编辑节点'\r\n      this.getNodeData(data)\r\n      this.formEdit = false\r\n      this.formStatus = 'update'\r\n    },\r\n    nodeAdd(data) {\r\n      this.dialogRoleVisible = true\r\n      this.dialogRoleTitle = '新增节点'\r\n      this.resetForm(data.id)\r\n      this.formEdit = false\r\n      this.formStatus = 'create'\r\n    },\r\n    // 删除角色节点或者删除该节点下的人员\r\n    nodeDelete(data) {\r\n      this.$confirm('此操作将永久删除, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        if (data.node_type === 'role') {\r\n          deleteDetails(data.id).then(() => {\r\n            this.getList()\r\n            this.resetForm()\r\n            this.onCancel()\r\n            this.$notify({\r\n              title: '成功',\r\n              message: '删除成功',\r\n              type: 'success',\r\n              duration: 2000\r\n            })\r\n          })\r\n        } else {\r\n          deleteDetails(data.id).then(() => {\r\n            this.getList()\r\n            this.resetForm()\r\n            this.onCancel()\r\n            this.$notify({\r\n              title: '成功',\r\n              message: '删除成功',\r\n              type: 'success',\r\n              duration: 2000\r\n            })\r\n          })\r\n        }\r\n      })\r\n    },\r\n    update() {\r\n      updateDetails(this.listDataId, this.form.code, this.form.description, this.form.name, this.form.orderNum, '').then(() => {\r\n        this.getList()\r\n        this.$notify({\r\n          title: '成功',\r\n          message: '创建成功',\r\n          type: 'success',\r\n          duration: 2000\r\n        })\r\n        this.dialogRoleVisible = false\r\n      })\r\n    },\r\n    create() {\r\n      // id, name, description, code, orderNum, type, parentCode\r\n      adddicDetails(this.form.code, this.form.description, this.form.name, this.form.orderNum, 1, '').then(data => {\r\n        this.getList()\r\n        this.$notify({\r\n          title: '成功',\r\n          message: '创建成功',\r\n          type: 'success',\r\n          duration: 2000\r\n        })\r\n        this.dialogRoleVisible = false\r\n      })\r\n    },\r\n    onCancel() {\r\n      this.formEdit = true\r\n      this.dialogRoleVisible = false\r\n      this.formStatus = ''\r\n    },\r\n    resetForm(parentId) {\r\n      if (parentId === undefined) {\r\n        parentId = '-1'\r\n      }\r\n      this.form = {\r\n        parentId: parentId,\r\n        code: undefined,\r\n        name: undefined,\r\n        description: undefined,\r\n        groupType: this.type\r\n      }\r\n    },\r\n    userAdd(data) {\r\n      this.currentId = data.id\r\n      this.dialogUserVisible = true\r\n    },\r\n    handlerAuthority(data) {\r\n      this.currentId = data.id\r\n      this.dialogAuthorityVisible = true\r\n    },\r\n    closeUserDialog() {\r\n      this.dialogUserVisible = false\r\n    },\r\n    closeAuthorityDialog() {\r\n      this.dialogAuthorityVisible = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.tab-item-contianer {\r\n  width: 100;\r\n  height: 100%;\r\n  .fileterInput {\r\n    width: 10rem;\r\n    position: absolute;\r\n    right: 0;\r\n    top: -3.25rem;\r\n  }\r\n  .card {\r\n    min-height: 37.5rem;\r\n    /deep/ .el-tree-node__content {\r\n      height: 2.5rem !important;\r\n    }\r\n    .custom-tree-node {\r\n      width: 100%;\r\n      height: 2.5rem;\r\n      flex: 1;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      font-size: 0.875rem;\r\n      padding-right: 0.5rem;\r\n      border-bottom: 0.0625rem solid #f2f6fc;\r\n      > span {\r\n        display: inline-block;\r\n      }\r\n      .tree-operation {\r\n        // display: inline-block;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        min-width: 46.875rem;\r\n        .el-icon-plus,\r\n        .el-icon-edit,\r\n        .el-icon-delete {\r\n          font-weight: bold;\r\n        }\r\n        > span {\r\n          display: inline-block;\r\n          width: 24%;\r\n        }\r\n        .data-authority {\r\n          text-align: center;\r\n        }\r\n        .menu-authority {\r\n          text-align: center;\r\n        }\r\n        .is-leader {\r\n          text-align: center;\r\n        }\r\n        .data-operate {\r\n          text-align: right;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .tree-title {\r\n    height: 1.5625rem;\r\n    width: 100%;\r\n    flex: 1;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding-right: 0.5rem;\r\n    border-bottom: 0.125rem solid#E4E7ED;\r\n    font-size: 0.9375rem;\r\n    > span {\r\n      display: inline-block;\r\n    }\r\n    .tree-operation {\r\n      // display: inline-block;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      min-width: 46.875rem;\r\n      .el-icon-plus {\r\n        font-weight: bold;\r\n      }\r\n      > span {\r\n        display: inline-block;\r\n        width: 24%;\r\n      }\r\n      .data-authority {\r\n        text-align: center;\r\n      }\r\n      .is-leader {\r\n        text-align: center;\r\n      }\r\n      .menu-authority {\r\n        text-align: center;\r\n      }\r\n      .data-operate {\r\n        text-align: right;\r\n      }\r\n    }\r\n  }\r\n}\r\n.el-tabs__content {\r\n  overflow: visible;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/system/dataDictionary/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab-item-contianer\"},[_c('el-input',{staticClass:\"fileterInput\",attrs:{\"placeholder\":\"输入关键字进行过滤\",\"size\":\"medium\"},model:{value:(_vm.filterText),callback:function ($$v) {_vm.filterText=$$v},expression:\"filterText\"}}),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticStyle:{\"margin-top\":\"15px\"},attrs:{\"span\":24}},[_c('el-card',{staticClass:\"card\"},[_c('span',{staticClass:\"tree-title common-font-color-success\"},[_c('span',{staticStyle:{\"padding-left\":\"30px\"}},[_vm._v(\"名称\")]),_vm._v(\" \"),_c('span',{staticClass:\"tree-operation\"},[_c('span',{staticClass:\"data-authority\"},[_c('span',[_vm._v(\"数据权限\")])]),_vm._v(\" \"),_c('span',{staticClass:\"menu-authority\"},[_c('span',[_vm._v(\"更新时间\")])]),_vm._v(\" \"),_c('span',{staticClass:\"data-operate\"},[_c('span',[_vm._v(\"操作\")]),_vm._v(\" \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"open-delay\":1200,\"content\":\"在跟节点下新增\",\"effect\":\"dark\",\"placement\":\"top-start\"}},[(_vm.groupManager_btn_add)?_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.nodeAdd($event)}}},[_c('span',{staticClass:\"el-icon-plus common-font-color-success\"})]):_vm._e()],1)],1)])]),_vm._v(\" \"),_c('el-tree',{ref:\"groupTree\",attrs:{\"data\":_vm.treeData,\"filter-node-method\":_vm.filterNode,\"props\":_vm.defaultProps,\"default-expand-all\":\"\",\"highlight-current\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar node = ref.node;\nvar data = ref.data;\nreturn _c('span',{staticClass:\"custom-tree-node\"},[_c('span',[_vm._v(_vm._s(node.label))]),_vm._v(\" \"),_c('span',{staticClass:\"tree-operation\"},[_c('span',{staticClass:\"data-authority\"},[_c('span',[_vm._v(\"数据权限\")])]),_vm._v(\" \"),_c('span',{staticClass:\"menu-authority\"},[_c('span',[_vm._v(\"\\n                  \"+_vm._s(data.updTime || data.crtTime)+\"\\n                  \")])]),_vm._v(\" \"),_c('span',{staticClass:\"data-operate\"},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"open-delay\":1200,\"content\":\"添加节点\",\"effect\":\"dark\",\"placement\":\"top-start\"}},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.checkDebug($event)}}},[_c('el-dropdown',{attrs:{\"trigger\":\"click\",\"type\":\"text\"}},[_c('span',{staticClass:\"el-icon-plus common-font-color-success\"}),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{nativeOn:{\"click\":function($event){_vm.nodeAdd(data)}}},[_vm._v(\"新增节点\")])],1)],1)],1)],1),_vm._v(\" \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"open-delay\":1200,\"content\":\"编辑当前节点\",\"effect\":\"dark\",\"placement\":\"top-start\"}},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){$event.stopPropagation();_vm.nodeEdit(data)}}},[_c('span',{staticClass:\"el-icon-edit common-font-color-waring\"})])],1),_vm._v(\" \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"open-delay\":1200,\"content\":\"删除当前\",\"effect\":\"dark\",\"placement\":\"top-start\"}},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){$event.stopPropagation();_vm.nodeDelete(data)}}},[_c('span',{staticClass:\"el-icon-delete common-font-color-danger\"})])],1)],1)])])}}])})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.dialogRoleTitle,\"visible\":_vm.dialogRoleVisible},on:{\"update:visible\":function($event){_vm.dialogRoleVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"label-position\":_vm.labelPosition,\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{attrs:{\"disabled\":_vm.formEdit},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"编码\"}},[_c('el-input',{attrs:{\"disabled\":_vm.formEdit},model:{value:(_vm.form.code),callback:function ($$v) {_vm.$set(_vm.form, \"code\", $$v)},expression:\"form.code\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"描述\"}},[_c('el-input',{attrs:{\"disabled\":_vm.formEdit},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", $$v)},expression:\"form.description\"}})],1),_vm._v(\" \"),(_vm.formStatus == 'update')?_c('el-form-item',[(_vm.groupManager_btn_edit)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.update}},[_vm._v(\"更新\")]):_vm._e(),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.onCancel}},[_vm._v(\"取消\")])],1):_vm._e(),_vm._v(\" \"),(_vm.formStatus == 'create')?_c('el-form-item',[(_vm.groupManager_btn_add)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.create}},[_vm._v(\"保存\")]):_vm._e(),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.onCancel}},[_vm._v(\"取消\")])],1):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-6d904566\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/system/dataDictionary/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6d904566\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6d904566\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6d904566\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/system/dataDictionary/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}