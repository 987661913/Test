{"version":3,"sources":["webpack:///src/views/system/menu/index.vue","webpack:///./src/views/system/menu/index.vue?7a21","webpack:///./src/views/system/menu/index.vue","webpack:///./src/api/system/menu/index.js"],"names":["system_menu","name","components","menu-element","__webpack_require__","e","then","bind","data","filterText","list","total","formEdit","formAdd","formStatus","typeOptions","value","listQuery","undefined","treeData","defaultProps","children","label","labelPosition","dialogFormVisible","tagNodeName","form","code","title","parentId","href","icon","orderNum","description","path","enabled","type","attr1","currentForm","currentId","menu_btn_add","menu_btn_edit","menu_btn_del","computed","extends_default","Object","vuex_esm","formTitle","this","watch","val","$refs","menuTree","filter","created","getList","elements","methods","_this","menu","sortByOrder","Array","isArray","length","recursiveChange","id","menuElement","menuId","changeSelect","arr","i","isSelected","sort","a","b","filterNode","indexOf","getNodeData","handlerEdit","handlerAdd","resetForm","handlerView","handleDelete","_this2","$confirm","confirmButtonText","cancelButtonText","onCancel","$notify","message","duration","update","_this3","create","_this4","views_system_menu","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","width","placeholder","model","callback","$$v","expression","_v","staticStyle","margin-left","on","click","$event","_e","ref","filter-node-method","props","default-expand-all","node-key","node-click","scopedSlots","_u","key","fn","node","class","common-font-color-success","_s","stopPropagation","menu-id","visible","update:visible","label-position","label-width","prop","disabled","$set","readonly","_l","item","index","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","query","request","url","method","params","obj","__WEBPACK_IMPORTED_MODULE_0__utils_request__"],"mappings":"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","file":"static/js/9.5adbbe1bb7ea42f9d744.js","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-container>\r\n      <el-aside width=\"250px\">\r\n        <div class=\"left-content\">\r\n          <el-input class=\"filter\" placeholder=\"输入关键字进行过滤\" v-model=\"filterText\"></el-input>\r\n          <el-button @click=\"handlerAdd(null)\" class=\"add\" icon=\"el-icon-plus\" style=\"margin-left: 10px;\" type=\"text\" v-if=\"menu_btn_add\"></el-button>\r\n          <el-tree :data=\"treeData\" :filter-node-method=\"filterNode\" :props=\"defaultProps\" @node-click=\"getNodeData\" class=\"filter-tree\" default-expand-all node-key=\"id\" ref=\"menuTree\">\r\n            <span class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\r\n              <span :class=\"{'common-font-color-success':data.isSelected}\">{{ node.label }}</span>\r\n              <span>\r\n                <span @click.stop=\"handlerView(data)\" class=\"el-icon-view\"/>\r\n                <span @click.stop=\"handlerAdd(data)\" class=\"el-icon-plus\" v-if=\"menu_btn_add\"/>\r\n                <span @click.stop=\"handlerEdit(data)\" class=\"el-icon-edit-outline\" v-if=\"menu_btn_edit\"/>\r\n                <span @click.stop=\"handleDelete(data)\" class=\"el-icon-delete\" v-if=\"menu_btn_del\"/>\r\n              </span>\r\n            </span>\r\n          </el-tree>\r\n        </div>\r\n      </el-aside>\r\n      <el-container>\r\n        <div class=\"right-content\">\r\n          <menu-element :menu-id=\"currentId\" ref=\"menuElement\"></menu-element>\r\n        </div>\r\n      </el-container>\r\n    </el-container>\r\n    <el-dialog :title=\"formTitle\" :visible.sync=\"dialogFormVisible\">\r\n      <el-form :label-position=\"labelPosition\" :model=\"form\" label-width=\"100px\" ref=\"form\">\r\n        <el-form-item label=\"前端路由编码\" prop=\"code\">\r\n          <el-input :disabled=\"!formEdit\" placeholder=\"请输入前端路由编码\" v-model=\"form.code\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"菜单标题\" prop=\"title\">\r\n          <el-input :disabled=\"!formEdit\" placeholder=\"请输入菜单标题\" v-model=\"form.title\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"父菜单ID\" prop=\"parentId\">\r\n          <el-input :disabled=\"!formEdit\" readonly v-model=\"form.parentId\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"图标\" prop=\"icon\">\r\n          <el-input :disabled=\"!formEdit\" placeholder=\"仅第二级菜单有效\" v-model=\"form.icon\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"类型\" prop=\"type\">\r\n          <el-select :disabled=\"!formEdit\" class=\"filter-item\" placeholder=\"请输入资源请求类型\" v-model=\"form.type\">\r\n            <el-option :key=\"index\" :label=\"item.name\" :value=\"item.value\" v-for=\"(item,index) in typeOptions\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"外部链接\" prop=\"href\" v-if=\"form.type!=='menu'\">\r\n          <el-input :disabled=\"!formEdit\" placeholder=\"请输入资源路径\" v-model=\"form.href\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"前端路由\" prop=\"path\" v-else>\r\n          <el-input :disabled=\"!formEdit\" placeholder=\"请输入路由地址\" v-model=\"form.path\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"排序\" prop=\"orderNum\">\r\n          <el-input :disabled=\"!formEdit\" placeholder=\"请输入排序\" v-model=\"form.orderNum\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"描述\" prop=\"description\">\r\n          <el-input :disabled=\"!formEdit\" placeholder=\"请输入描述\" v-model=\"form.description\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item v-if=\"formStatus == 'update'\">\r\n          <el-button @click=\"update\" type=\"primary\">更新</el-button>\r\n          <el-button @click=\"onCancel\">取消</el-button>\r\n        </el-form-item>\r\n        <el-form-item v-if=\"formStatus == 'create'\">\r\n          <el-button @click=\"create\" type=\"primary\">保存</el-button>\r\n          <el-button @click=\"onCancel\">取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getMenuTree, addMenu, deleteMenu, updateMenu } from '@/api/system/menu/index'\r\nimport { mapGetters } from 'vuex'\r\nexport default {\r\n  name: 'Menu',\r\n  components: {\r\n    'menu-element': () => import('./components/element')\r\n  },\r\n  data() {\r\n    return {\r\n      filterText: '',\r\n      list: null,\r\n      total: null,\r\n      formEdit: true,\r\n      formAdd: true,\r\n      formStatus: '',\r\n      typeOptions: [{ name: '功能菜单', value: 'menu' }, { name: '外部链接', value: 'dirt' }],\r\n      listQuery: {\r\n        name: undefined\r\n      },\r\n      treeData: [],\r\n      defaultProps: {\r\n        children: 'children',\r\n        label: 'title'\r\n      },\r\n      labelPosition: 'right',\r\n      dialogFormVisible: false,\r\n      tagNodeName: '',\r\n      form: {\r\n        code: undefined,\r\n        title: undefined,\r\n        parentId: undefined,\r\n        href: undefined,\r\n        icon: undefined,\r\n        orderNum: undefined,\r\n        description: undefined,\r\n        path: undefined,\r\n        enabled: undefined,\r\n        type: undefined,\r\n        attr1: undefined\r\n      },\r\n      currentForm: null,\r\n      currentId: '-1',\r\n      // 菜单资源\r\n      menu_btn_add: false,\r\n      menu_btn_edit: false,\r\n      menu_btn_del: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['elements']),\r\n    formTitle: function() {\r\n      if (!this.currentForm) {\r\n        return '在根节点下新增'\r\n      }\r\n      if (this.formStatus === 'update') {\r\n        return '编辑\"' + this.currentForm.title + '\"菜单'\r\n      } else if (this.formStatus === 'create') {\r\n        if (this.currentForm.parentId !== '-1') {\r\n          return '在\"' + this.currentForm.title + '\"菜单下新增'\r\n        } else {\r\n          return '在根节点下新增'\r\n        }\r\n      } else {\r\n        return '查看\"' + this.currentForm.title + '\"菜单'\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    filterText(val) {\r\n      this.$refs.menuTree.filter(val)\r\n    }\r\n  },\r\n  created() {\r\n    this.getList()\r\n    this.menu_btn_add = this.elements['menu_btn_add']\r\n    this.menu_btn_del = this.elements['menu_btn_delete']\r\n    this.menu_btn_edit = this.elements['menu_btn_update']\r\n  },\r\n  methods: {\r\n    getList() {\r\n      getMenuTree(this.listQuery).then(data => {\r\n        this.sortByOrder(data.data)\r\n        // 初始化selected对象\r\n        if (data.data && Array.isArray(data.data) && data.data.length > 0) {\r\n          this.recursiveChange(data.data, data.data[0].id)\r\n          this.$refs.menuElement.menuId = data.data[0].id\r\n          this.$refs.menuElement.getList()\r\n        }\r\n        this.treeData = data.data\r\n      })\r\n    },\r\n    changeSelect(id) {\r\n      if (this.treeData && Array.isArray(this.treeData)) {\r\n        this.recursiveChange(this.treeData, id)\r\n      }\r\n    },\r\n    recursiveChange(arr, id) {\r\n      for (let i in arr) {\r\n        if (arr[i].id === id) {\r\n          arr[i].isSelected = true\r\n        } else {\r\n          arr[i].isSelected = false\r\n        }\r\n        if (arr[i].children && Array.isArray(arr[i].children) && arr[i].children.length > 0) {\r\n          this.recursiveChange(arr[i].children, id)\r\n        }\r\n      }\r\n    },\r\n    sortByOrder(data) {\r\n      if (data && Array.isArray(data)) {\r\n        data.sort((a, b) => {\r\n          return a.orderNum - b.orderNum\r\n        })\r\n        for (let i in data) {\r\n          if (data[i].children && Array.isArray(data[i].children) && data[i].children.length > 0) {\r\n            this.sortByOrder(data[i].children)\r\n          }\r\n        }\r\n      }\r\n    },\r\n    filterNode(value, data) {\r\n      if (!value) return true\r\n      return data.label.indexOf(value) !== -1\r\n    },\r\n    getNodeData(data) {\r\n      this.currentId = data.id\r\n      this.currentForm = data\r\n      this.form = data\r\n      this.changeSelect(data.id)\r\n      this.$refs.menuElement.menuId = data.id\r\n      this.$refs.menuElement.getList()\r\n    },\r\n    handlerEdit(data) {\r\n      this.currentForm = data\r\n      this.dialogFormVisible = true\r\n      this.form = data\r\n      this.formEdit = true\r\n      this.formStatus = 'update'\r\n    },\r\n    handlerAdd(data) {\r\n      if (data) {\r\n        this.currentForm = data\r\n        this.currentId = data.id\r\n      } else {\r\n        this.currentId = '-1'\r\n      }\r\n      this.resetForm()\r\n      this.dialogFormVisible = true\r\n      this.formEdit = true\r\n      this.formStatus = 'create'\r\n    },\r\n    handlerView(data) {\r\n      this.currentForm = data\r\n      this.form = data\r\n      this.dialogFormVisible = true\r\n      this.formEdit = false\r\n      this.formStatus = 'view'\r\n    },\r\n    handleDelete(data) {\r\n      this.$confirm('此操作将永久删除, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        deleteMenu(data.id).then(() => {\r\n          this.getList()\r\n          this.resetForm()\r\n          this.onCancel()\r\n          this.$notify({\r\n            title: '成功',\r\n            message: '删除成功',\r\n            type: 'success',\r\n            duration: 2000\r\n          })\r\n        })\r\n      })\r\n    },\r\n    update() {\r\n      updateMenu(this.form.id, this.form).then(() => {\r\n        this.getList()\r\n        this.$notify({\r\n          title: '成功',\r\n          message: '更新成功',\r\n          type: 'success',\r\n          duration: 2000\r\n        })\r\n        this.dialogFormVisible = false\r\n      })\r\n    },\r\n    create() {\r\n      addMenu(this.form).then(() => {\r\n        this.getList()\r\n        this.$notify({\r\n          title: '成功',\r\n          message: '创建成功',\r\n          type: 'success',\r\n          duration: 2000\r\n        })\r\n        this.dialogFormVisible = false\r\n      })\r\n    },\r\n    onCancel() {\r\n      this.formEdit = true\r\n      this.dialogFormVisible = false\r\n      this.formStatus = ''\r\n    },\r\n    resetForm() {\r\n      this.form = {\r\n        code: undefined,\r\n        title: undefined,\r\n        parentId: this.currentId,\r\n        href: undefined,\r\n        icon: undefined,\r\n        orderNum: undefined,\r\n        description: undefined,\r\n        path: undefined,\r\n        enabled: undefined\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.app-container {\r\n  .filter-tree {\r\n    margin-top: 0.625rem;\r\n  }\r\n  .custom-tree-node {\r\n    flex: 1;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    font-size: 0.875rem;\r\n    padding-right: 0.5rem;\r\n  }\r\n  .left-content {\r\n    width: 100%;\r\n    height: 100%;\r\n    padding: 0.3125rem;\r\n    min-height: 37.5rem;\r\n    border: 0.0625rem solid #c5c5c5;\r\n    .filter {\r\n      width: 90%;\r\n    }\r\n    .add {\r\n      width: 8%;\r\n      margin-left: 0px !important;\r\n    }\r\n  }\r\n  .right-content {\r\n    margin-left: 0.9375rem;\r\n    padding-left: 0.3125rem;\r\n    padding-top: 0.3125rem;\r\n    padding-right: 1.25rem;\r\n    width: 100%;\r\n    min-height: 37.5rem;\r\n    border: 0.0625rem solid #c5c5c5;\r\n  }\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/system/menu/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-container',[_c('el-aside',{attrs:{\"width\":\"250px\"}},[_c('div',{staticClass:\"left-content\"},[_c('el-input',{staticClass:\"filter\",attrs:{\"placeholder\":\"输入关键字进行过滤\"},model:{value:(_vm.filterText),callback:function ($$v) {_vm.filterText=$$v},expression:\"filterText\"}}),_vm._v(\" \"),(_vm.menu_btn_add)?_c('el-button',{staticClass:\"add\",staticStyle:{\"margin-left\":\"10px\"},attrs:{\"icon\":\"el-icon-plus\",\"type\":\"text\"},on:{\"click\":function($event){_vm.handlerAdd(null)}}}):_vm._e(),_vm._v(\" \"),_c('el-tree',{ref:\"menuTree\",staticClass:\"filter-tree\",attrs:{\"data\":_vm.treeData,\"filter-node-method\":_vm.filterNode,\"props\":_vm.defaultProps,\"default-expand-all\":\"\",\"node-key\":\"id\"},on:{\"node-click\":_vm.getNodeData},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar node = ref.node;\nvar data = ref.data;\nreturn _c('span',{staticClass:\"custom-tree-node\"},[_c('span',{class:{'common-font-color-success':data.isSelected}},[_vm._v(_vm._s(node.label))]),_vm._v(\" \"),_c('span',[_c('span',{staticClass:\"el-icon-view\",on:{\"click\":function($event){$event.stopPropagation();_vm.handlerView(data)}}}),_vm._v(\" \"),(_vm.menu_btn_add)?_c('span',{staticClass:\"el-icon-plus\",on:{\"click\":function($event){$event.stopPropagation();_vm.handlerAdd(data)}}}):_vm._e(),_vm._v(\" \"),(_vm.menu_btn_edit)?_c('span',{staticClass:\"el-icon-edit-outline\",on:{\"click\":function($event){$event.stopPropagation();_vm.handlerEdit(data)}}}):_vm._e(),_vm._v(\" \"),(_vm.menu_btn_del)?_c('span',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){$event.stopPropagation();_vm.handleDelete(data)}}}):_vm._e()])])}}])})],1)]),_vm._v(\" \"),_c('el-container',[_c('div',{staticClass:\"right-content\"},[_c('menu-element',{ref:\"menuElement\",attrs:{\"menu-id\":_vm.currentId}})],1)])],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.formTitle,\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"label-position\":_vm.labelPosition,\"model\":_vm.form,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"前端路由编码\",\"prop\":\"code\"}},[_c('el-input',{attrs:{\"disabled\":!_vm.formEdit,\"placeholder\":\"请输入前端路由编码\"},model:{value:(_vm.form.code),callback:function ($$v) {_vm.$set(_vm.form, \"code\", $$v)},expression:\"form.code\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"菜单标题\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"disabled\":!_vm.formEdit,\"placeholder\":\"请输入菜单标题\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"父菜单ID\",\"prop\":\"parentId\"}},[_c('el-input',{attrs:{\"disabled\":!_vm.formEdit,\"readonly\":\"\"},model:{value:(_vm.form.parentId),callback:function ($$v) {_vm.$set(_vm.form, \"parentId\", $$v)},expression:\"form.parentId\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"图标\",\"prop\":\"icon\"}},[_c('el-input',{attrs:{\"disabled\":!_vm.formEdit,\"placeholder\":\"仅第二级菜单有效\"},model:{value:(_vm.form.icon),callback:function ($$v) {_vm.$set(_vm.form, \"icon\", $$v)},expression:\"form.icon\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"类型\",\"prop\":\"type\"}},[_c('el-select',{staticClass:\"filter-item\",attrs:{\"disabled\":!_vm.formEdit,\"placeholder\":\"请输入资源请求类型\"},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},_vm._l((_vm.typeOptions),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.value}})}))],1),_vm._v(\" \"),(_vm.form.type!=='menu')?_c('el-form-item',{attrs:{\"label\":\"外部链接\",\"prop\":\"href\"}},[_c('el-input',{attrs:{\"disabled\":!_vm.formEdit,\"placeholder\":\"请输入资源路径\"},model:{value:(_vm.form.href),callback:function ($$v) {_vm.$set(_vm.form, \"href\", $$v)},expression:\"form.href\"}})],1):_c('el-form-item',{attrs:{\"label\":\"前端路由\",\"prop\":\"path\"}},[_c('el-input',{attrs:{\"disabled\":!_vm.formEdit,\"placeholder\":\"请输入路由地址\"},model:{value:(_vm.form.path),callback:function ($$v) {_vm.$set(_vm.form, \"path\", $$v)},expression:\"form.path\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"排序\",\"prop\":\"orderNum\"}},[_c('el-input',{attrs:{\"disabled\":!_vm.formEdit,\"placeholder\":\"请输入排序\"},model:{value:(_vm.form.orderNum),callback:function ($$v) {_vm.$set(_vm.form, \"orderNum\", $$v)},expression:\"form.orderNum\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"描述\",\"prop\":\"description\"}},[_c('el-input',{attrs:{\"disabled\":!_vm.formEdit,\"placeholder\":\"请输入描述\"},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", $$v)},expression:\"form.description\"}})],1),_vm._v(\" \"),(_vm.formStatus == 'update')?_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.update}},[_vm._v(\"更新\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.onCancel}},[_vm._v(\"取消\")])],1):_vm._e(),_vm._v(\" \"),(_vm.formStatus == 'create')?_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.create}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.onCancel}},[_vm._v(\"取消\")])],1):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-6b83a535\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/system/menu/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6b83a535\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6b83a535\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6b83a535\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/system/menu/index.vue\n// module id = null\n// module chunks = ","import request from '@/utils/request'\r\n\r\nexport function getMenuTree(query) {\r\n  return request({\r\n    url: '/api/admin/menu/tree',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\nexport function addMenu(obj) {\r\n  return request({\r\n    url: '/api/admin/menu',\r\n    method: 'post',\r\n    data: obj\r\n  })\r\n}\r\n\r\nexport function getMenu(id) {\r\n  return request({\r\n    url: '/api/admin/menu/' + id,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function deleteMenu(id) {\r\n  return request({\r\n    url: '/api/admin/menu/' + id,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\nexport function updateMenu(id, obj) {\r\n  return request({\r\n    url: '/api/admin/menu/' + id,\r\n    method: 'put',\r\n    data: obj\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/system/menu/index.js"],"sourceRoot":""}